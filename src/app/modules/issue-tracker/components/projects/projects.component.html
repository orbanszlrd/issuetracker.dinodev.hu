<div>
  <h2>Projects</h2>
  <p-button label="New Project" (click)="openPanel()"></p-button>
  <ng-container *ngIf="projects$ | async as projects">
    <p-table [value]="projects.data">
      <ng-template pTemplate="header">
        <tr>
          <th>Title</th>
          <th>Description</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-project>
        <tr>
          <td>{{ project.title }}</td>
          <td>{{ project.description }}</td>
        </tr>
      </ng-template>
    </p-table>
  </ng-container>
</div>

<p-dialog
  header="New Project"
  [modal]="true"
  [(visible)]="isOpen"
  styleClass="it-dialog"
  (onHide)="closePanel()"
>
  <div class="p-fluid p-formgrid p-grid">
    <div class="p-field p-col-12">
      <label for="title">Title</label>
      <input
        id="title"
        type="text"
        pInputText
        [(ngModel)]="project.title"
        class="p-inputtext p-component"
      />
    </div>
    <div class="p-field p-col-12">
      <label for="text">Description</label>
      <textarea
        pInputTextarea
        [(ngModel)]="project.description"
        [style]="{ height: '16rem' }"
      ></textarea>
    </div>
    <div class="p-field p-col-12">
      <p-button
        label="Save"
        icon="pi pi-check"
        iconPos="right"
        (click)="insert()"
      ></p-button>
    </div>
  </div>
</p-dialog>
